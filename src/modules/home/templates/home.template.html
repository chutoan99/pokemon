<div id="app">
  <div id="search">
    <img
      class="search__icon"
      alt="Search icon"
      src="../../../assets/icons/search.svg"
      width="22"
      height="22"
    />
    <input
      type="text"
      placeholder="Find a PokÃ©mon..."
      class="search__input"
      [(ngModel)]="paramsCard.name"
    />
    <button class="search__button" (click)="onSearch()">Search</button>
  </div>
  <div class="app__inner">
    <div id="filter">
      <h2 class="filter_name">Sort Pokemon</h2>

      <div class="filter__content">
        <details>
          <summary class="radios">
            <ng-container *ngFor="let sortType of sortTypesRecord">
              <input
                type="radio"
                id="{{ sortType.id }}"
                title="{{ sortType.title }}"
                [(ngModel)]="sortOrder"
                [value]="sortType.value"
              />
            </ng-container>
          </summary>
          <ul class="list">
            <ng-container *ngFor="let sortType of sortTypesRecord">
              <li>
                <label
                  for="{{ sortType.id }}"
                  (click)="selectSortOrder(sortType.value)"
                >
                  {{ sortType.title }}
                </label>
              </li>
            </ng-container>
          </ul>
        </details>

        <details>
          <summary class="radios">
            <ng-container *ngFor="let sortWith of sortWithRecord">
              <input
                type="radio"
                id="{{ sortWith.id }}"
                title="{{ sortWith.title }}"
                [(ngModel)]="sortValue"
                [value]="sortWith.value"
              />
            </ng-container>
          </summary>
          <ul class="list">
            <ng-container *ngFor="let sortWith of sortWithRecord">
              <li>
                <label
                  for="{{ sortWith.id }}"
                  (click)="selectSortValue(sortWith.value)"
                >
                  {{ sortWith.title }}
                </label>
              </li>
            </ng-container>
          </ul>
        </details>
      </div>

      <h2 class="filter_name">Types Pokemon</h2>
      <div class="filter_types">
        <div
          class="type"
          *ngFor="let type of typesRecords"
          [ngStyle]="{'--type-color': type.color}"
          [class.type--active]="type.id === paramsCard.type"
          (click)="onChooseType( type.id )"
        >
          <img [src]="type.icon" [alt]="type.name" [title]="type.name" />
          <span>{{type.name}}</span>
        </div>
      </div>
    </div>

    <div id="container">
      <list-card [records]="records" [isLoad]="isLoading"></list-card>
      <ng-container *ngIf="records.length > 0 && !isLoading">
        <pagination
          (pageChange)="onPageChange( $event)"
          [currentPage]="paramsCard.page"
        ></pagination>
      </ng-container>
    </div>
  </div>
</div>
